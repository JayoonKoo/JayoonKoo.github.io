<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"jayoonkoo.github.io","root":"/","images":"/images","scheme":"Muse","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta name="description" content="함수를 잘 만드는법을 살펴본다. 함수에 어떤 속성을 부여해야 처음 읽는 사람이 프로그램 내부를 직관적으로 파악할 수 있을까?  작게 만들어라작은 함수가 좋다. 각 함수는 명백히 하나의 이야기를 표현해야 한다.  블록과 들여쓰기블록 구조를 갖는 코드는 한줄 이어야 한다. 중첩 구조가 생길만큼 함수가 커져서는 안된다. 들여쓰기 수준을 1단이나 2단 정도로 유지">
<meta property="og:type" content="article">
<meta property="og:title" content="함수">
<meta property="og:url" content="https://jayoonkoo.github.io/2022/02/28/cleanCode/229228-%ED%95%A8%EC%88%98/index.html">
<meta property="og:site_name" content="티끌모아 태산">
<meta property="og:description" content="함수를 잘 만드는법을 살펴본다. 함수에 어떤 속성을 부여해야 처음 읽는 사람이 프로그램 내부를 직관적으로 파악할 수 있을까?  작게 만들어라작은 함수가 좋다. 각 함수는 명백히 하나의 이야기를 표현해야 한다.  블록과 들여쓰기블록 구조를 갖는 코드는 한줄 이어야 한다. 중첩 구조가 생길만큼 함수가 커져서는 안된다. 들여쓰기 수준을 1단이나 2단 정도로 유지">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-02-28T00:08:03.000Z">
<meta property="article:modified_time" content="2022-02-28T00:08:07.990Z">
<meta property="article:author" content="JayoonKoo">
<meta property="article:tag" content="cleanCode">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://jayoonkoo.github.io/2022/02/28/cleanCode/229228-%ED%95%A8%EC%88%98/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://jayoonkoo.github.io/2022/02/28/cleanCode/229228-%ED%95%A8%EC%88%98/","path":"2022/02/28/cleanCode/229228-함수/","title":"함수"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>함수 | 티끌모아 태산</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">티끌모아 태산</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">작은 조각 모음</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">22</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">18</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">160</span></a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%9E%91%EA%B2%8C-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%9D%BC"><span class="nav-number">1.</span> <span class="nav-text">작게 만들어라</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EB%B8%94%EB%A1%9D%EA%B3%BC-%EB%93%A4%EC%97%AC%EC%93%B0%EA%B8%B0"><span class="nav-number">1.1.</span> <span class="nav-text">블록과 들여쓰기</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%ED%95%9C%EA%B0%80%EC%A7%80%EB%A7%8C-%ED%95%B4%EB%9D%BC"><span class="nav-number">2.</span> <span class="nav-text">한가지만 해라</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%ED%95%A8%EC%88%98%EB%8B%B9-%EC%B6%94%EC%83%81%ED%99%94-%EC%88%98%EC%A4%80%EC%9D%80-%ED%95%98%EB%82%98%EB%A1%9C"><span class="nav-number">3.</span> <span class="nav-text">함수당 추상화 수준은 하나로</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EC%9C%84%EC%97%90%EC%84%9C-%EC%95%84%EB%9E%98%EB%A1%9C-%EC%BD%94%EB%93%9C-%EC%9D%BD%EA%B8%B0-%EB%82%B4%EB%A0%A4%EA%B0%80%EA%B8%B0-%EA%B7%9C%EC%B9%99"><span class="nav-number">3.1.</span> <span class="nav-text">위에서 아래로 코드 읽기 : 내려가기 규칙</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Switch-%EB%AC%B8"><span class="nav-number">4.</span> <span class="nav-text">Switch 문</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%84%9C%EC%88%A0%EC%A0%81%EC%9D%B8-%EC%9D%B4%EB%A6%84%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC"><span class="nav-number">5.</span> <span class="nav-text">서술적인 이름을 사용하라!</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%ED%95%A8%EC%88%98-%EC%9D%B8%EC%88%98"><span class="nav-number">6.</span> <span class="nav-text">함수 인수</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EB%A7%8E%EC%9D%B4-%EC%93%B0%EB%8A%94-%EB%8B%A8%ED%95%AD-%ED%98%95%EC%8B%9D"><span class="nav-number">6.1.</span> <span class="nav-text">많이 쓰는 단항 형식</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%ED%94%8C%EB%9E%98%EA%B7%B8-%EC%9D%B8%EC%88%98"><span class="nav-number">6.2.</span> <span class="nav-text">플래그 인수</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EC%9D%B4%ED%95%AD-%ED%95%A8%EC%88%98"><span class="nav-number">6.3.</span> <span class="nav-text">이항 함수</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EC%82%BC%ED%95%AD-%ED%95%A8%EC%88%98"><span class="nav-number">6.4.</span> <span class="nav-text">삼항 함수</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EC%9D%B8%EC%88%98-%EA%B0%9D%EC%B2%B4"><span class="nav-number">6.5.</span> <span class="nav-text">인수 객체</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EC%9D%B8%EC%88%98-%EB%AA%A9%EB%A1%9D"><span class="nav-number">6.6.</span> <span class="nav-text">인수 목록</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EB%8F%99%EC%82%AC%EC%99%80-%ED%82%A4%EC%9B%8C%EB%93%9C"><span class="nav-number">6.7.</span> <span class="nav-text">동사와 키워드</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EB%B6%80%EC%88%98-%ED%9A%A8%EA%B3%BC%EB%A5%BC-%EC%9D%BC%EC%9C%BC%ED%82%A4%EC%A7%80-%EB%A7%88%EB%9D%BC"><span class="nav-number">7.</span> <span class="nav-text">부수 효과를 일으키지 마라.</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EB%B6%80%EC%88%98%ED%9A%A8%EA%B3%BC-%ED%94%BC%ED%95%98%EA%B8%B0"><span class="nav-number">7.1.</span> <span class="nav-text">부수효과 피하기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EB%AA%85%EB%A0%B9%EA%B3%BC-%EC%A1%B0%ED%9A%8C%EB%A5%BC-%EB%B6%84%EB%A6%AC%ED%95%98%EB%9D%BC"><span class="nav-number">7.2.</span> <span class="nav-text">명령과 조회를 분리하라</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">JayoonKoo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">160</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/JayoonKoo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;JayoonKoo" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:rnwkdbs12@gmail.com" title="E-Mail → mailto:rnwkdbs12@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/JayoonKoo" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jayoonkoo.github.io/2022/02/28/cleanCode/229228-%ED%95%A8%EC%88%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JayoonKoo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="티끌모아 태산">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          함수
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-02-28 09:08:03 / Modified: 09:08:07" itemprop="dateCreated datePublished" datetime="2022-02-28T09:08:03+09:00">2022-02-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cleanCode/" itemprop="url" rel="index"><span itemprop="name">cleanCode</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>함수를 잘 만드는법을 살펴본다. 함수에 어떤 속성을 부여해야 처음 읽는 사람이 프로그램 내부를 직관적으로 파악할 수 있을까? </p>
<h2 id="작게-만들어라"><a href="#작게-만들어라" class="headerlink" title="작게 만들어라"></a>작게 만들어라</h2><p>작은 함수가 좋다. 각 함수는 명백히 하나의 이야기를 표현해야 한다. </p>
<h3 id="블록과-들여쓰기"><a href="#블록과-들여쓰기" class="headerlink" title="블록과 들여쓰기"></a>블록과 들여쓰기</h3><p>블록 구조를 갖는 코드는 한줄 이어야 한다. 중첩 구조가 생길만큼 함수가 커져서는 안된다. 들여쓰기 수준을 1단이나 2단 정도로 유지한다. </p>
<h2 id="한가지만-해라"><a href="#한가지만-해라" class="headerlink" title="한가지만 해라"></a>한가지만 해라</h2><p>함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다. 함수를 판단할때 지정된 함수 이름 아래에서 추상화 수준을 판단한다. </p>
<p>함수를 만드는 이유는 큰 개념을 여러 단계로 나눠 수행하기 위해서이다. 추상화 수준이 둘 이상이라면 더 축소 가능할 수 있다. 따라서 한 가지만 하는지 판단하는 방법이 하나 더 있다. 단순히 다른 표현이 아니라 의미 있는 이름으로 다른 함수를 추출할 수 있다면 그 함수는 여러 작업을 하는 셈이다. </p>
<h2 id="함수당-추상화-수준은-하나로"><a href="#함수당-추상화-수준은-하나로" class="headerlink" title="함수당 추상화 수준은 하나로"></a>함수당 추상화 수준은 하나로</h2><p>함수가 확실히 한 가지 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다. 한 함수 내의 추상화 수준을 섞으면 코드를 읽는 사람이 근본 개념인지 세부사항인지 구분하기 어려워 진다. 이렇게 뒤섞기 시작하면 점점더 엉망이 된다. </p>
<h3 id="위에서-아래로-코드-읽기-내려가기-규칙"><a href="#위에서-아래로-코드-읽기-내려가기-규칙" class="headerlink" title="위에서 아래로 코드 읽기 : 내려가기 규칙"></a>위에서 아래로 코드 읽기 : 내려가기 규칙</h3><p>프로그램을 위에서 아래로 읽으면서 함수 추상화 수준이 한다계씩 낮아지게 작성해야 한다. TO 문단을 읽듯이 프로그램이 읽혀야 한다는 것인데 각 TO 문단은 이어지는 아래 단계의 TO 문단(~ 하려면) 을 참고한다. </p>
<p>ex ) </p>
<ul>
<li>TO 설정 페이지와 해제 페이지를 포함하려면, 설정 페이지를 포함하고, 테스트 페이지 내용을 포함하고, 해제 페이지를 포함한다.<ul>
<li>TO 설정 페이지를 포함하려면 , 슈트이면 슈트 설정 페이지를 포함한 후 일반 설정 페이지를 포함한다.</li>
<li>TO 슈트 설정 페이지를 포함하려면, 부모 계층에서 “SuiteSetUp” 페이지를 찾아 include 문과 페이지 경로를 추가한다.</li>
<li>TO 부모 계층을 검색하려면 …</li>
</ul>
</li>
</ul>
<p>위에서 아래로 TO 문단을 읽어내려 가듯이 코드를 구현하면 추상화 수준을 일관되게 유지하기 쉬워진다. </p>
<h2 id="Switch-문"><a href="#Switch-문" class="headerlink" title="Switch 문"></a>Switch 문</h2><p>Switch 문은 기본적으로 N가지를 처리하기 때문에 한가지 일만 하기 어렵다. 하지만 Switch 문을 사용하지 않을 수 도 없다. 하지만 각 switch 문을 저차원 클래스에 숨기고 절대 반복하지 않은 방법이 있다. </p>
<p>직원 유형에 따라 다른 값을 계산해 반환하는 함수이다. 좋지 않은 예시 : ❌</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function calculatePay(employee: Employee) &#123;</span><br><span class="line">  switch (employee.type) &#123;</span><br><span class="line">    case &#x27;COMMISSIONED&#x27;:</span><br><span class="line">      return calculateCommissionedPay(employee);</span><br><span class="line">    case &#x27;HOURLY&#x27;:</span><br><span class="line">      return calculateHourlyPay(employee);</span><br><span class="line">    case &#x27;SALARIED&#x27;:</span><br><span class="line">      return calculateSalariedPay(employee);</span><br><span class="line">    default:</span><br><span class="line">      throw new Error(employee.type);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>다음과 같은 문제가 있다.</p>
<ol>
<li>함수가 길다. 새 직원 유형을 추가하면 더 길어진다.</li>
<li>한가지 작업만 수행하지 않는다.</li>
<li>SRP(Single Responsibility Principle) 단일 책임 원칙을 위반한다. </li>
<li>OCP(Open Closed Principle): 개방 폐쇄 원칙을 위반한다. ( 소프트웨어 개체는 확장에 대해 열려 있어야 하고, 수정에 대해서는 닫혀 있어야 한다.) → 새 직원을 추가할때마다 코드를 변경해야 하기 때문이다. </li>
<li>가장 큰 문제는 위 함수와 구조가 동일한 함수가 무한정 존재한다는 사실이다. </li>
</ol>
<p>이문제를 해결하기 위해 switch 을 추상 팩토리(ABSTRACT FACTORY) 에 숨긴다. Switch 문을 통해 적절한 Employee 파생 클래스의 인스턴스를 생성한다. 여러가지 함수는 Employee 인터페이스를 거쳐 호출되게 한다. 그러면 다형성으로 인해 실제 파생 클래스의 함수가 실행된다.</p>
<p>좋은 예 : ✅</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">abstract class Employee &#123;</span><br><span class="line">  abstract isPayday(): boolean;</span><br><span class="line">  abstract calculatePay(): Money;</span><br><span class="line">  abstract deleverPay(pay: Money): void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface EmployeeFactory &#123;</span><br><span class="line">  makeEmployee(record: EmployeeRecord): Employee;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class EmployeeFactoryImpl implements EmployeeFactory &#123;</span><br><span class="line">  makeEmployee(record: EmployeeRecord): Employee &#123;</span><br><span class="line">    switch (record.type) &#123;</span><br><span class="line">      case &#x27;COMMISSIONED&#x27;:</span><br><span class="line">        return new CommissionedEmployee(record);</span><br><span class="line">      case &#x27;HOURLY&#x27;:</span><br><span class="line">        return new HourlEmployee(record);</span><br><span class="line">      case &#x27;SALARIED&#x27;:</span><br><span class="line">        return new SalariedEmployy(record);</span><br><span class="line">      default:</span><br><span class="line">        throw new Error(record.type);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Siwtch 문을 다형적 객체를 생성하는 코드로 숨겨 버린다. </p>
<h2 id="서술적인-이름을-사용하라"><a href="#서술적인-이름을-사용하라" class="headerlink" title="서술적인 이름을 사용하라!"></a>서술적인 이름을 사용하라!</h2><p>길고 서술적인 이름이 길고 서술적인 주석보다 좋다. 함수 이름만 보고 동작을 예측할수 있다면 좋은 코드라고 할수 있다. 단 이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같은 문구, 명사 동사를 사용한다. includeSetupAndTeardownPages, IncludeSetupPages, includeSuiteSetuppage, includeSetupPage 등은 좋은 예이다. </p>
<h2 id="함수-인수"><a href="#함수-인수" class="headerlink" title="함수 인수"></a>함수 인수</h2><p>함수의 인수는 적을수록 좋다. 보통 2개 정도까진 괜찮고, 4개 이상부터는 특별한 이유가 필요하다. 인수가 있는것보다 인수가 없는것이 코드를 읽는사람이 이해하기 쉽다. 인수가 많아지면 테스트도 어렵다. 2개이상의 인수를 받는 함수를 테스트 하는것은 테스트를 어렵게 만든다. 최선은 입력 인수가 없는 경우이며, 차선은 입력 인수가 1개뿐인 경우이다. </p>
<h3 id="많이-쓰는-단항-형식"><a href="#많이-쓰는-단항-형식" class="headerlink" title="많이 쓰는 단항 형식"></a>많이 쓰는 단항 형식</h3><p>함수에 인수 1개를 넘기는 가장 흔한 경우는 두가지이다. </p>
<ol>
<li>인수에 질문을 던지는 경우이다. <code>fileExists(&quot;myfile&quot;): boolean</code> </li>
<li>인수를 뭔가로 변환해 결과를 반환하는 경우 <code>parseInt(&quot;2&quot;): number</code></li>
</ol>
<p>이 두경우는 독자가 당여하게 받아들인다. </p>
<h3 id="플래그-인수"><a href="#플래그-인수" class="headerlink" title="플래그 인수"></a>플래그 인수</h3><p>플래그 인수는 좋지 않다. 플래그 인수에 따라서 동작이 달라진 다는 의미가 함수에서 두가지를 한다는 의미이기 때문이다. 함수를 분리하는 것이 좋다. </p>
<p>redux 관련해서 작성했던 좋지 않은 예 : ❌</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> export function fetchThunk&lt;T, I extends &#123;[key: string]: InitialState&lt;T&gt;&#125;&gt;(</span><br><span class="line">  fetch: AsyncThunk&lt;T, string, &#123;&#125;&gt;,</span><br><span class="line">  key: keyof I,</span><br><span class="line">  keep: boolean, // flag 인수</span><br><span class="line">  handler?: (state: I, action: PayloadAction&lt;T&gt;) =&gt; void, // handler fulfilled 이후에 </span><br><span class="line">) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    [fetch.pending.type]: (state: I) =&gt; &#123;</span><br><span class="line">      state[key].loading = true;</span><br><span class="line">      state[key].data = keep ? state[key].data : null; // flag 인수에 사용</span><br><span class="line">      state[key].error = null;</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.fulfilled.type]: (state: I, action: PayloadAction&lt;T&gt;) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].data = action.payload;</span><br><span class="line">      handler &amp;&amp; handler(state, action);</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.rejected.type]: (</span><br><span class="line">      state: I,</span><br><span class="line">      action: ReturnType&lt;typeof fetch.rejected&gt;,</span><br><span class="line">    ) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].error = action.error;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>keep : 이라는 flag 인수를 두어서 데이터를 유지할지 선택하였다.함수를 분리하고 이름도 더 길게 서술하도록 한다. </p>
<p>handler 를 받아서 fulfilled 이후에 실행할 함수를 콜백으로 받았는데 이또한  handler가 있는 함수와 핸들러가 없는 함수로 분리한다. </p>
<p>좋은 예 : ✅</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">export function fetchDataKeepingPrev&lt;T, I extends &#123;[key: string]: InitialState&lt;T&gt;&#125;&gt;(</span><br><span class="line">  fetch: AsyncThunk&lt;T, string, &#123;&#125;&gt;,</span><br><span class="line">  key: keyof I,</span><br><span class="line">) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    [fetch.pending.type]: (state: I) =&gt; &#123;</span><br><span class="line">      state[key].loading = true;</span><br><span class="line">      state[key].data = state[key].data // data kepp</span><br><span class="line">      state[key].error = null;</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.fulfilled.type]: (state: I, action: PayloadAction&lt;T&gt;) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].data = action.payload;</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.rejected.type]: (</span><br><span class="line">      state: I,</span><br><span class="line">      action: ReturnType&lt;typeof fetch.rejected&gt;,</span><br><span class="line">    ) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].error = action.error;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function fetchData&lt;T, I extends &#123;[key: string]: InitialState&lt;T&gt;&#125;&gt;(</span><br><span class="line">  fetch: AsyncThunk&lt;T, string, &#123;&#125;&gt;,</span><br><span class="line">  key: keyof I,</span><br><span class="line">) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    [fetch.pending.type]: (state: I) =&gt; &#123;</span><br><span class="line">      state[key].loading = true;</span><br><span class="line">      state[key].data = null // null </span><br><span class="line">      state[key].error = null;</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.fulfilled.type]: (state: I, action: PayloadAction&lt;T&gt;) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].data = action.payload;</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.rejected.type]: (</span><br><span class="line">      state: I,</span><br><span class="line">      action: ReturnType&lt;typeof fetch.rejected&gt;,</span><br><span class="line">    ) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].error = action.error;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function fetchDataKeepingPrevWithHandler&lt;T, I extends &#123;[key: string]: InitialState&lt;T&gt;&#125;&gt;(</span><br><span class="line">  fetch: AsyncThunk&lt;T, string, &#123;&#125;&gt;,</span><br><span class="line">  key: keyof I,</span><br><span class="line">	handler?: (state: I, action: PayloadAction&lt;T&gt;) =&gt; void,</span><br><span class="line">) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    [fetch.pending.type]: (state: I) =&gt; &#123;</span><br><span class="line">      state[key].loading = true;</span><br><span class="line">      state[key].data = state[key].data // data kepp</span><br><span class="line">      state[key].error = null;</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.fulfilled.type]: (state: I, action: PayloadAction&lt;T&gt;) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].data = action.payload;</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.rejected.type]: (</span><br><span class="line">      state: I,</span><br><span class="line">      action: ReturnType&lt;typeof fetch.rejected&gt;,</span><br><span class="line">    ) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].error = action.error;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function fetchDataWithHandler&lt;T, I extends &#123;[key: string]: InitialState&lt;T&gt;&#125;&gt;(</span><br><span class="line">  fetch: AsyncThunk&lt;T, string, &#123;&#125;&gt;,</span><br><span class="line">  key: keyof I,</span><br><span class="line">	handler?: (state: I, action: PayloadAction&lt;T&gt;) =&gt; void,</span><br><span class="line">) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    [fetch.pending.type]: (state: I) =&gt; &#123;</span><br><span class="line">      state[key].loading = true;</span><br><span class="line">      state[key].data = null // null</span><br><span class="line">      state[key].error = null;</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.fulfilled.type]: (state: I, action: PayloadAction&lt;T&gt;) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].data = action.payload;</span><br><span class="line">    &#125;,</span><br><span class="line">    [fetch.rejected.type]: (</span><br><span class="line">      state: I,</span><br><span class="line">      action: ReturnType&lt;typeof fetch.rejected&gt;,</span><br><span class="line">    ) =&gt; &#123;</span><br><span class="line">      state[key].loading = false;</span><br><span class="line">      state[key].error = action.error;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>그런데 이렇게 작성하니 인수를 줄이기 위해서 중복된 함수가 너무 많아진 느낌이다. 함수를 작성하는 쪽에 수고로움과 사용하는 쪽에서에 편리함 중에 선택해야 하는 문제 같다. </p>
<p>추가적으로 인수를 더 줄이기 위해서 FetchThunkData 라는 클래스를 만들어 key, fetch, keep 정도는 생성자에서 받아올 수 있을거 같다. 이렇게 하면 인스턴스에 이름으로 데이터를 유지할지를 명시하면 사용하는쪽에서 헷갈리지도 않고 함수도 중복되게 적지 않아도 될거 같다. </p>
<p>개인적으로 생각한 예 : ❇️ <code>FetchThunkData</code> class</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">type FetchThunkDataConstructor&lt;T, S&gt; = &#123;</span><br><span class="line">  fetch: AsyncThunk&lt;T, string, &#123;&#125;&gt;;</span><br><span class="line">  keep: boolean;</span><br><span class="line">  key: string;</span><br><span class="line">  handler?: (state: S, action: PayloadAction&lt;T&gt;) =&gt; void;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export class FetchThunkData&lt;T, S extends &#123;[key: string]: InitialState&lt;T&gt;&#125;&gt; &#123;</span><br><span class="line">  private fetch: AsyncThunk&lt;T, string, &#123;&#125;&gt;;</span><br><span class="line">  private keep: boolean;</span><br><span class="line">  private key: string;</span><br><span class="line">  private handler?: (state: S, action: PayloadAction&lt;T&gt;) =&gt; void;</span><br><span class="line"></span><br><span class="line">  constructor(&#123;fetch, keep, key, handler&#125;: FetchThunkDataConstructor&lt;T, S&gt;) &#123;</span><br><span class="line">    this.fetch = fetch;</span><br><span class="line">    this.keep = keep;</span><br><span class="line">    this.key = key;</span><br><span class="line">    this.handler = handler;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private pendingReducer = (state: S) =&gt; &#123;</span><br><span class="line">    state[this.key].data = this.keep ? state[this.key].data : null;</span><br><span class="line">    state[this.key].loading = true;</span><br><span class="line">    state[this.key].error = null;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  private fuflledReducer = (state: S, action: PayloadAction&lt;T&gt;) =&gt; &#123;</span><br><span class="line">    state[this.key].loading = false;</span><br><span class="line">    state[this.key].data = action.payload;</span><br><span class="line">    this.handler &amp;&amp; this.handler(state, action);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  private rejectedReducer = (</span><br><span class="line">    state: S,</span><br><span class="line">    action: ReturnType&lt;typeof this.fetch.rejected&gt;,</span><br><span class="line">  ) =&gt; &#123;</span><br><span class="line">    state[this.key].loading = false;</span><br><span class="line">    state[this.key].error = action.error;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  getFetchThunkReducer() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      [this.fetch.pending.type]: this.pendingReducer,</span><br><span class="line">      [this.fetch.fulfilled.type]: this.fuflledReducer,</span><br><span class="line">      [this.fetch.rejected.type]: this.rejectedReducer,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>사용하는 부분 : </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const fetchThunkKeepDataNoHandler = new FetchThunkData(&#123;</span><br><span class="line">  fetch: fetchChallenges,</span><br><span class="line">  keep: true,</span><br><span class="line">  key: &#x27;challenges&#x27;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const challengesSlice = createSlice(&#123;</span><br><span class="line">  name: &#x27;challenges&#x27;,</span><br><span class="line">  initialState,</span><br><span class="line">  reducers: &#123;&#125;,</span><br><span class="line">  extraReducers: fetchThunkKeepDataNoHandler.getFetchThunkReducer(),</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>fetchThunkKeepDataNoHandler</code> 라른 인스턴스에 이름이 있기 때문에 data를 유지하하고 handler 가 없는 reducer를 반환함을 알 수 있다. </p>
<p>또한, 생성자에서 필요한 인수를 받았기 때문에 <code>getFetchThunkReducer</code> 에서는 인수를 받지 않아도 된다. </p>
<h3 id="이항-함수"><a href="#이항-함수" class="headerlink" title="이항 함수"></a>이항 함수</h3><p>이항 함수는 함수에 인자로 2개를 받는 함수이다. 2개의 인수가 한개의 값을 표현하기에 적합하거나, 자연적인 순서가 있는것이 아니라면 인자로 2개를 받는것은 1개를 받는것보다 이해하기 어렵다 (자연스러운 경우 ? <code>new Point(x, y)</code> 같은 경우, 인자 2개가 하나의 표인트를 표현하는것과 순서도 자연스럽다)</p>
<p>인수가 2개인 경우가 반드시 나쁜 경우는 아니지만 줄일수 있도록 해야한다. 예를들어서 <code>writeField(outpurStream, name)</code> 인자에 순서를 기억하기 어렵기 때문에 <code>writeField(name)</code> 으로 줄이면 좋다. 이럴 경우에는 <code>OutputStream</code> 이라는 클래스를 만들고 멤버 변수로 <code>outputStrem</code> 을 갖고, <code>writeField(name)</code> 메서드를 구현하여 <code>outputStream.writeField(name)</code> 같이 호출할 수 있다. </p>
<h3 id="삼항-함수"><a href="#삼항-함수" class="headerlink" title="삼항 함수"></a>삼항 함수</h3><p>인수가 3개인 함수는 인수가 2개인 함수보다 훨씬 더 이해하기 어렵다. 삼항 함수를 만들 때는 신중히 고려해야 한다.</p>
<h3 id="인수-객체"><a href="#인수-객체" class="headerlink" title="인수 객체"></a>인수 객체</h3><p>인수가 2-3 개 필요하다면 일부로 독자적인 클래스 변수로 선언할 가능성을 짚어봐야 한다. </p>
<p>좋지 않은 예 : ❌</p>
<p><code>makeCircle(x: number, y: number, radius: number)</code></p>
<p>좋은 예 : ✅</p>
<p><code>makeCircle(center: Point, radius: number)</code></p>
<p>인수로 객체를 넘기는 것이 눈속임 이라 생각할 수 있지만, 객체에는 이름을 담기 때문에 결국엔 어떤 개념을 전달하게 된다.그것이 코드를 읽는 사람들에게 이해하는데 더 큰 도움을 준다. </p>
<p>자바스크립트에서 함수에 인수로 객체를 받으면 인수에 개념을 전달할수 있게됨으로 인수를 객체로 전달하도록 하는것이 좋다.</p>
<h3 id="인수-목록"><a href="#인수-목록" class="headerlink" title="인수 목록"></a>인수 목록</h3><p>때로는 인수 개수가 가변적인 함수도 필요하다. 가변적인 인수를 갖는 함수는 사실상 2개의 인수를 받는 이항함수로 생각할 수 있다. <code>function sumFunction(arg1, ...argList)</code> </p>
<h3 id="동사와-키워드"><a href="#동사와-키워드" class="headerlink" title="동사와 키워드"></a>동사와 키워드</h3><p>함수의 의도나 인수의 순서와 의도를 제대로 표현하려면 좋은 함수 이름이 필요하다. <code>write(name)</code> 함수는 곧바로 이해가 되는데 이름이 무엇이든 쓴다는 뜻으로 생각할 수 있기 때문이다. 더 나은 이름으로는 <code>wirteField(name)</code> 과 같이 사용할 수 있다. </p>
<p>또는, 함수 이름에 키워드를 추가하는 방식을 사용할 수 있다. 이렇게 하면 인수에 순서를 기억할 필요 없이 함수에 이름으로 알 수 있게 된다. </p>
<h2 id="부수-효과를-일으키지-마라"><a href="#부수-효과를-일으키지-마라" class="headerlink" title="부수 효과를 일으키지 마라."></a>부수 효과를 일으키지 마라.</h2><p>함수에서 부수효과가 일어나면 한가이 일을 하겠다고 한 함수가 사실은 그렇지 못한 것이 된다. </p>
<p>안 좋은 예시 : ❌</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class UserValidator &#123;</span><br><span class="line">  private cryptographer: Cryptographer;</span><br><span class="line"></span><br><span class="line">  constructor(cryptographer: Cryptographer) &#123;</span><br><span class="line">    this.cryptographer = cryptographer;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  checkPassword(userName: string, password: string): boolean &#123;</span><br><span class="line">    const user: User = UserGatewayImpl.findByName(userName);</span><br><span class="line">    if (user !== null) &#123;</span><br><span class="line">      const codePhrase = user.getPhraseEncodedByPassword();</span><br><span class="line">      const phrase = this.cryptographer.decrypt(codePhrase, password);</span><br><span class="line">      if (phrase === &#x27;Valid Password&#x27;) &#123;</span><br><span class="line">        Session.initialize();</span><br><span class="line">        return true;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>checkPassword</code> 가 패스워드를 확인해서 boolean 값을 반환한다고 생각하지만 실제로 안에서는 세션을 초기화 하는 일까지 하고 있는 것이다. 이럴경우 이름을 <code>checkPasswordAndSessionIntialize</code> 라고 바꾸는 것이 좋다. 그래도 합수가 한가지 일을 하게 한다는 원칙은 어긋나지만</p>
<h3 id="부수효과-피하기"><a href="#부수효과-피하기" class="headerlink" title="부수효과 피하기"></a>부수효과 피하기</h3><p>사이드 이펙트를 일으키지 않기 위해서는 객체를 그대로 사용하는 것이 아니라 객체를 복사해서 새로운 객체를 만들고 변경하는 방법을 사용해야 한다. 또한 전역 변수를 변경시켜 전역 변수를 사용하는 다른 함수에 영향을 주면 안된다.</p>
<h3 id="명령과-조회를-분리하라"><a href="#명령과-조회를-분리하라" class="headerlink" title="명령과 조회를 분리하라"></a>명령과 조회를 분리하라</h3><p>함수는 뭔가를 수행하거 답하거나 둘 중 하나만 해야한다. 둘다 하면 혼란을 초래한다.</p>
<p>좋지 않은 예시 : ❌</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function set(attribute: string, value: string): boolean &#123;</span><br><span class="line">  //...</span><br><span class="line">	return true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (set(&#x27;name&#x27;, &#x27;koo&#x27;)) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>작성한 함수는 객체에 속성에 지정한 value 로 설정하면 true 를 실패하면 false를 반환하는 함수이다. 그러나 if 문 안에 들어가면 해석이 다양해진다. 개발자는 동사로서 설정하라고 판단하고 함수를 작성했지만 사용하는 쪽에서는 설정되어 있다면으로 해석할 수 있다. 함수 선언부를 확인하고 나서야 객체에 설정하는 함수구나 생각하기 쉽상이다. 따라서 설정 되어 있다면을 함수로 따로 분리하는 것이 현명하다. </p>
<p>좋은 예시 :  ✅</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (attrubuteExist(&#x27;name&#x27;)) &#123;</span><br><span class="line">  setAttribute(&#x27;name&#x27;, &#x27;koo&#x27;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>값을 설정하는 함수, 반환하는 함수를 분리하면 읽는 쪽에서 코드를 더 쉽게 이해할 수 있다.</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/cleanCode/" rel="tag"># cleanCode</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/02/01/cleanCode/220201-220201%20%EC%9D%98%EB%AF%B8%20%EC%9E%88%EB%8A%94%20%EC%9D%B4%EB%A6%84/" rel="prev" title="220201 의미 있는 이름">
                  <i class="fa fa-chevron-left"></i> 220201 의미 있는 이름
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/03/28/BackEnd/220328-Providers/" rel="next" title="Providers">
                  Providers <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JayoonKoo</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
